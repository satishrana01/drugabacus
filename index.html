<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Shiny Switches with CSS3 &amp; jQuery | Tutorialzine Demo</title>
        
        <!-- CSS stylesheets -->
        <link rel="stylesheet" href="assets/css/styles.css" />
        <link rel="stylesheet" href="assets/knobKnob/knobKnob.css" />
        
        <!--[if lt IE 9]>
          <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
		
		<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.3/themes/hot-sneaks/jquery-ui.css" />
	<script src="http://code.jquery.com/jquery-2.1.3.js"></script>
	<script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
       
	
	
<style>
html{
    background: url(../img/bg1.jpg);
}
.slider-class{
display : flex;
justify-content:center;
padding-top:20px;
}

.slider-class div{
    margin-right: 100px;
    float: left;
	height:300px;
	}
	
	.slider-class span:nth-child(1){
	background : red !important;
	}
	
	#vertical-slider {
    height: 150px;
    margin-left: 30px;
}

.parent-div{
margin-top : 150px;
display : flex;
justify-content:center;
}

.parent-div div{
margin-right : 30px;
}

</style>

	
    </head>
    
    <body>
	
		<!-- <p>
  <label for="total"> 15 % Tax Range  (in thousand $):</label>
  <input type="text" id="total" style="border:0; color:#fa4b2a; font-weight:bold;">
</p> -->

<div>
<select id="diseases" onchange="onSelection()">
  <option value="">Select Disease</option>
</select>
<div>


<div class="slider-class">
<!-- <div id="rangeSlider"></div>
<div id="rangeSlider2"></div>
<div id="rangeSlider3" ></div>
<div id="rangeSlider4"></div>
<div id="rangeSlider5" ></div> -->
</div>

		

            
				<div class="parent-div">
                    
                <div id="control1">
                    <!-- The knob markup will go here -->
                </div>
                <div id="control2"></div>
				
				<div id="control3"> </div>
                                <!-- The colorful dividers will go here -->
				<div>

		
  
        
        <!-- JavaScript includes -->
		<script src="assets/knobKnob/transform.js"></script>
		<script src="assets/knobKnob/knobKnob.jquery.js"></script>
		<script src="assets/js/script.js"></script>

        <script>
		const map = new Map();
		map.set('color', 'red');
			$(function() {
    $('#control1').knobKnob({
        snap: 10,
        value: 0,
        turn: function(ratio) {
			console.log(ratio);
			adjustSlider('rangeSlider',0,ratio*100);
        }
    });
});

		$(function() {
    $('#control2').knobKnob({
        snap: 10,
        value: 0,
        turn: function(ratio) {
			console.log(ratio);
			adjustSlider('rangeSlider',0,(ratio*100));
			adjustSlider('rangeSlider2',0,(ratio*100));
			adjustSlider('rangeSlider3',0,(ratio*100));
			adjustSlider('rangeSlider4',0,(ratio*100)+40);
			adjustSlider('rangeSlider5',0,(ratio*100)+40);
			
        }
    });
});

$(function() {
    $('#control3').knobKnob({
        snap: 10,
        value: 0,
        turn: function(ratio) {
			adjustSlider('rangeSlider',0,(ratio*100)+10);
			adjustSlider('rangeSlider2',0,(ratio*100)+20);
			adjustSlider('rangeSlider3',0,(ratio*100)+40);
			adjustSlider('rangeSlider4',0,(ratio*100)+40);
			adjustSlider('rangeSlider5',0,(ratio*100)+40);
			
			$('.slider-class').find('div').each(function(){
			
			adjustSlider($(this).context.id,0,(ratio*100));
			
				console.log($(this).context.id);
		});
        }
    });
});

        $(document).ready(function() {
         adjustSlider('rangeSlider',10,0);
		 adjustSlider('rangeSlider2',20,0);
		 adjustSlider('rangeSlider3',30,0);
		 adjustSlider('rangeSlider4',20,0);
		 adjustSlider('rangeSlider5',30,0);
    $( "#total" ).val( "$" + $( "#rangeSlider" ).slider( "values", 0 ) +
      " - $" + $( "#rangeSlider" ).slider( "values", 1 ) );
        });
         
		 function adjustSlider(id,initValue,currentVal)
{
var initialVal = initValue;
if(map.has(id)){

initialVal = map.get(id);
}
else{
map.set(id,initValue)
}
$( "#"+id).slider({
      orientation: "vertical",
      range: false,
      values: [ initialVal,currentVal ],
      slide: function( event, ui ) {
        $( "#total" ).val( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
      }
    });
}
$(document).ready(function() {
$.ajax({url: "http://127.0.0.1:5000/drugabacus/getalldisease", success: function(result){
	$.each(JSON.parse(result).disease, function( index, value ) {
  $('#diseases').append($('<option>', {value:value.name, text:value.name}));
  
  
});
	
  }});
  });
  
  function onSelection() {
  var diseaseSelected = $('#diseases').val();
  if(diseaseSelected==""){
  return false;
  }
  $.ajax({url: "http://127.0.0.1:5000/drugabacus/getdrugs/"+diseaseSelected, success: function(result){
  $( ".slider-class" ).empty();
	$.each(JSON.parse(result).drugname, function( index, value ) {
    console.log(index + " "+value.name + " " + value.cost);
	$( ".slider-class" ).append( "<div id='rangeSlider"+index+"'></div>" );
	adjustSlider('rangeSlider'+index,value.cost/10,0);
});
  }});
}
  
    </script>
		
		
		
	
    
    </body>
</html>

